<template>
    <lightning-card title="Metadata Configuration" icon-name="standard:settings">
        <div class="slds-m-around_medium">
            <!--<lightning-input label="Metadata Type" value={selectedMetadata} onchange={handleChange}></lightning-input> -->
            <lightning-button label="Fetch Metadata" onclick={handleClick}></lightning-button>     
            
            <br /><br />

            <template if:true={hasReferenceMetadata}>
                <lightning-checkbox-group name="Metadata Types"
                                label="Metadata Types"
                                options={metadataTypes}
                                value={referenceMetadataTypes}
                                onchange={handleCheckboxChange}></lightning-checkbox-group>
            </template>
            
            <br /><br />

            <template if:true={isFilterApplied}>
                
                <p style="font-weight: bold;">Filter</p>
                <lightning-pill label={filterMetadataLabel} onremove={handleRemoveFilter}>
                    <lightning-icon icon-name="standard:apps" variant="circle"  alternative-text="apps"></lightning-icon>
                </lightning-pill>
            </template>

            <template if:true={hasMetadata}>
                <template if:false={isFilterApplied}>
                    <lightning-button label="Apply as Filter" title="Apply as Filter" icon-name="standard:apps" class="slds-m-left_x-small" onclick={applyfilter}></lightning-button>
                </template>
            </template>

            <template if:true={hasMetadata}>
                <br /><br />
                <lightning-tile>

                    <lightning-tree items={selectedMetadataDetail} header={displayMetadataLabel}></lightning-tree>

                </lightning-tile>
            </template>
                        
            
        </div>
    </lightning-card>
</template>